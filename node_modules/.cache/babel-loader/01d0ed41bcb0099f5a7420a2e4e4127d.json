{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Travis\\\\projects\\\\Thinkful\\\\react\\\\Project_Flashcards_Qualified_1\\\\src\\\\Layout\\\\Card\\\\Cards.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport Card from \"./Card\";\nimport { deleteCard, readDeck } from \"../../utils/api/index\";\n\nfunction Cards() {\n  const {\n    deckId\n  } = useParams();\n  const history = useHistory();\n  let content = [\"\"];\n  const [deck, setDeck] = useState({});\n  useEffect(() => {\n    const abortController = new AbortController();\n\n    const fetchDeck = async () => setDeck(await readDeck(deckId, abortController.signal));\n\n    fetchDeck();\n    return () => abortController.abort();\n  }, [deckId]);\n\n  const handleDeleteCard = async e => {\n    if (window.confirm('Delete this card?')) {\n      if (e.target.getAttribute(\"data-index\") !== null) await deleteCard(e.target.getAttribute(\"data-index\"));else {\n        window.confirm('something went wrong.');\n        history.push(`/`);\n      }\n\n      const fetchDeck = async () => setDeck(await readDeck(deckId));\n\n      fetchDeck();\n    }\n  };\n\n  if (deck.id) content = deck.cards.map((card, index) => {\n    return /*#__PURE__*/React.createElement(Card, {\n      card: card,\n      index: index,\n      handleDeleteCard: handleDeleteCard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 21\n      }\n    });\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, \"Cards\")), deck.cards ? content : null);\n}\n\nexport default Cards;","map":{"version":3,"sources":["C:/Users/Travis/projects/Thinkful/react/Project_Flashcards_Qualified_1/src/Layout/Card/Cards.js"],"names":["React","useState","useEffect","useParams","useHistory","Card","deleteCard","readDeck","Cards","deckId","history","content","deck","setDeck","abortController","AbortController","fetchDeck","signal","abort","handleDeleteCard","e","window","confirm","target","getAttribute","push","id","cards","map","card","index"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,EAAoBC,UAApB,QAAsC,kBAAtC;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,uBAArC;;AAEA,SAASC,KAAT,GAAiB;AACb,QAAM;AAAEC,IAAAA;AAAF,MAAaN,SAAS,EAA5B;AACA,QAAMO,OAAO,GAAGN,UAAU,EAA1B;AACA,MAAIO,OAAO,GAAG,CAAC,EAAD,CAAd;AAEA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAC,EAAD,CAAhC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMY,eAAe,GAAG,IAAIC,eAAJ,EAAxB;;AACA,UAAMC,SAAS,GAAG,YAAYH,OAAO,CAAC,MAAMN,QAAQ,CAACE,MAAD,EAASK,eAAe,CAACG,MAAzB,CAAf,CAArC;;AACAD,IAAAA,SAAS;AACT,WAAO,MAAMF,eAAe,CAACI,KAAhB,EAAb;AACH,GALQ,EAKN,CAACT,MAAD,CALM,CAAT;;AAOA,QAAMU,gBAAgB,GAAG,MAAOC,CAAP,IAAa;AAClC,QAAIC,MAAM,CAACC,OAAP,CAAe,mBAAf,CAAJ,EAAyC;AACrC,UAAIF,CAAC,CAACG,MAAF,CAASC,YAAT,CAAsB,YAAtB,MAAwC,IAA5C,EACI,MAAMlB,UAAU,CAACc,CAAC,CAACG,MAAF,CAASC,YAAT,CAAsB,YAAtB,CAAD,CAAhB,CADJ,KAEI;AACAH,QAAAA,MAAM,CAACC,OAAP,CAAe,uBAAf;AACAZ,QAAAA,OAAO,CAACe,IAAR,CAAc,GAAd;AACH;;AACD,YAAMT,SAAS,GAAG,YAAYH,OAAO,CAAC,MAAMN,QAAQ,CAACE,MAAD,CAAf,CAArC;;AACAO,MAAAA,SAAS;AACZ;AACJ,GAXD;;AAaA,MAAIJ,IAAI,CAACc,EAAT,EACIf,OAAO,GAAGC,IAAI,CAACe,KAAL,CAAWC,GAAX,CAAe,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACtC,wBAAQ,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAED,IAAZ;AAAkB,MAAA,KAAK,EAAEC,KAAzB;AAAgC,MAAA,gBAAgB,EAAEX,gBAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAR;AACH,GAFS,CAAV;AAGJ,sBAAQ,uDACJ;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,CADI,EAIHP,IAAI,CAACe,KAAL,GAAahB,OAAb,GAAuB,IAJpB,CAAR;AAOH;;AAED,eAAeH,KAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport Card from \"./Card\";\r\nimport { deleteCard, readDeck } from \"../../utils/api/index\";\r\n\r\nfunction Cards() {\r\n    const { deckId } = useParams();\r\n    const history = useHistory();\r\n    let content = [\"\"];\r\n\r\n    const [deck, setDeck] = useState({})\r\n\r\n    useEffect(() => {\r\n        const abortController = new AbortController();\r\n        const fetchDeck = async () => setDeck(await readDeck(deckId, abortController.signal));\r\n        fetchDeck();\r\n        return () => abortController.abort();\r\n    }, [deckId])\r\n\r\n    const handleDeleteCard = async (e) => {\r\n        if (window.confirm('Delete this card?')) {\r\n            if (e.target.getAttribute(\"data-index\") !== null)\r\n                await deleteCard(e.target.getAttribute(\"data-index\"));\r\n            else{\r\n                window.confirm('something went wrong.')\r\n                history.push(`/`);\r\n            }\r\n            const fetchDeck = async () => setDeck(await readDeck(deckId));\r\n            fetchDeck();\r\n        }\r\n    }\r\n\r\n    if (deck.id)\r\n        content = deck.cards.map((card, index) => {\r\n            return (<Card card={card} index={index} handleDeleteCard={handleDeleteCard} />);\r\n        });\r\n    return (<>\r\n        <div className=\"row mt-3\">\r\n            <h3>Cards</h3>\r\n        </div>\r\n        {deck.cards ? content : null}\r\n    </>\r\n    );\r\n}\r\n\r\nexport default Cards;"]},"metadata":{},"sourceType":"module"}